{% include "head.html" %}
<h1 class="text-4xl">
    <span class="font-semibold">Languages</span>
</h1>
<div class="mt-3">
    <div class="rounded shadow" style="width: 100%; height: 500px;" id="map">
    </div>
</div>
<div class="mt-5">
    <div class="grid w-full">
        {% for lang, info in langs.items()|sort(attribute='1.1') %}
        <a href="/languages/{{ lang }}">
        <div class="rounded shadow my-1 border-l-4 flex hover:shadow-lg hover:bg-gray-50" style="border-color: #{{ colors[langs[lang][5]] }};">
            <div class="p-1 pl-2 w-1/2">{{ info[1] }} <span class="font-thin">[{{ info[0] }}]</span></div>
            <div class="p-1 w-1/4">
                {{ info[5] }}
            </div>
            <div class="p-1 w-1/4">
                {{ info[4] }}, {{ info[3] }}
            </div>
        </div>
        </a>
        {% endfor %}
    </div>
</div>
<script>
var map = L.map('map').setView([20.5937, 78.9629], 4);

L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Physical_Map/MapServer/tile/{z}/{y}/{x}', {
	attribution: 'Tiles &copy; Esri &mdash; Source: US National Park Service',
	maxZoom: 8
}).addTo(map)
{% for lang in langs %}
var iconSvg = `<svg viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg">
  <circle cx="14" cy="14" r="13" fill="#{{ colors[langs[lang][5]] }}" stroke="black" stroke-width="2"/>
</svg>`
var iconUrl = 'data:image/svg+xml;base64,' + btoa(iconSvg)
var icon = L.icon( {
            iconUrl: iconUrl,
            iconSize: [15, 15]
        } );
L.marker([{{ langs[lang][4] }}, {{ langs[lang][3] }}], {icon: icon}).bindTooltip("<strong>{{ langs[lang][1] }}</strong>").openTooltip().addTo(map)
{% endfor %}
</script>
{% include "foot.html" %}