{% include "head.html" %}
<h1 class="text-4xl font-semibold">{{ entry[1] }} <span class="font-light">[{{ entry[0] }}]</span></h1>
<div class="rounded shadow mt-8 p-2">
    <h2 class="font-thin"><a href="/references/cdial">Turner, Ralph Lilley:</a></h2>
    <p class="border-l-4 pl-4">{{ entry[2] | safe }}</p>
</div>
<div class="mt-3">
    <div class="rounded shadow" style="width: 100%; height: 500px;" id="map">
    </div>
</div>
<div class="mt-5">
    <div class="grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4">
        {% for lang, entries in reflexes.items() %}
        <a class="m-1" href="/entries/{{ entry[0] }}/{{ lang }}">
        <div class="h-full w-full shadow rounded p-2 pl-3 border-l-4 hover:shadow-lg transition" style="border-color: #{{ colors[langs[lang][5]] }};">
            <p><span class="text-lg">{{ lang }}</span></p>
            {% for entry in entries %}{% if loop.index != 1 %}, {% endif %}<span>{{ entry[3] | safe }}</span>{% if entry[4] %} <span class="text-gray-400">‘&#8288;{{ entry[4] }}&#8288;’</span>{% endif %}{% if entry[6] %} <span class="text-gray-400">/&#8288;{{ entry[6] }}&#8288;/</span>{% endif %}{% endfor %}
        </div>
        </a>
        {% endfor %}
    </div>
</div>
<script>
var map = L.map('map').setView([20.5937, 78.9629], 4);

L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Physical_Map/MapServer/tile/{z}/{y}/{x}', {
	attribution: 'Tiles &copy; Esri &mdash; Source: US National Park Service',
	maxZoom: 8
}).addTo(map)
{% for lang, entries in reflexes.items() %}
var iconSvg = `<svg viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg">
  <circle cx="14" cy="14" r="13" fill="#{{ colors[langs[lang][5]] }}" stroke="black" stroke-width="2"/>
</svg>`
var iconUrl = 'data:image/svg+xml;base64,' + btoa(iconSvg)
var icon = L.icon( {
            iconUrl: iconUrl,
            iconSize: [15, 15]
        } );
L.marker([{{ langs[lang][4] }}, {{ langs[lang][3] }}], {icon: icon}).bindTooltip("<strong>{{ lang }}</strong><br>{% for entry in entries %}{% if loop.index != 1 %}, {% endif %}{{ entry[3] | safe }}{% endfor %}").openTooltip().addTo(map)
{% endfor %}
</script>
{% include "foot.html" %}